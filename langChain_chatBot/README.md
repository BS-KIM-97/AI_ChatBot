### GitHub README.md: Blog Agent ChatBot ğŸ’¬

---

# Blog Agent ChatBot ğŸ’¬

### ğŸ“– Introduction
**Blog Agent ChatBot**ì€ Streamlit ê¸°ë°˜ì˜ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ìœ¼ë¡œ, ì‚¬ìš©ìê°€ ì—…ë¡œë“œí•œ CSV ë°ì´í„°ë¥¼ ë¶„ì„í•˜ê³  ìì—°ì–´ ì§ˆë¬¸ì— ë‹µë³€í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„ëœ ëŒ€í™”í˜• ì±—ë´‡ì…ë‹ˆë‹¤. LangChain ë° OpenAI APIë¥¼ í™œìš©í•˜ì—¬ ë°ì´í„° ë¶„ì„, ì„ë² ë”©, ë²¡í„° ê²€ìƒ‰, ì§ˆì˜ì‘ë‹µ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.

---

## ğŸ› ï¸ Features
- **CSV íŒŒì¼ ì—…ë¡œë“œ ë° ë°ì´í„° ë¶„ì„**
- **OpenAI ëª¨ë¸ì„ í™œìš©í•œ ì§ˆì˜ì‘ë‹µ**
- **Pandas ë°ì´í„°í”„ë ˆì„ ì—ì´ì „íŠ¸ë¥¼ í†µí•œ ë°ì´í„° íƒìƒ‰**
- **ë²¡í„° ë°ì´í„°ë² ì´ìŠ¤ ì €ì¥ ë° ê²€ìƒ‰ ê¸°ëŠ¥**
- **ëŒ€í™” ìƒíƒœ ê´€ë¦¬**

---

## ğŸ”§ Installation

1. Clone the repository:
    ```bash
    git clone https://github.com/BS-KIM-97/AI_ChatBot.git
    cd blog-agent-chatbot
    ```

2. Install dependencies:
    ```bash
    pip install -r requirements.txt
    ```

3. Set up your environment variables:
    Create a `.env` file and add your OpenAI API key:
    ```bash
    OPENAI_API_KEY=your_openai_api_key
    ```

4. Run the Streamlit app:
    ```bash
    streamlit run app.py
    ```

---

## ğŸš€ Usage

### 1. íŒŒì¼ ì—…ë¡œë“œ ë° ëª¨ë¸ ì„ íƒ
- **CSV íŒŒì¼ ì—…ë¡œë“œ**: ì‚¬ì´ë“œë°”ì—ì„œ ë°ì´í„°ë¥¼ ì—…ë¡œë“œí•©ë‹ˆë‹¤.
- **ëª¨ë¸ ì„ íƒ**: OpenAI ëª¨ë¸(gpt-4o, gpt-4o-mini)ì„ ì„ íƒí•©ë‹ˆë‹¤.
- **ë°ì´í„° ë¶„ì„ ì‹œì‘**: `ë°ì´í„° ë¶„ì„ ì‹œì‘` ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ ì—ì´ì „íŠ¸ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.

### 2. ì§ˆì˜ì‘ë‹µ
- **ëŒ€í™” ì…ë ¥**: ë©”ì¸ í™”ë©´ì—ì„œ ìì—°ì–´ ì§ˆë¬¸ì„ ì…ë ¥í•˜ì—¬ ë°ì´í„°ì— ëŒ€í•œ ì§ˆì˜ì‘ë‹µì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.
- **ê²°ê³¼ í™•ì¸**: ChatBotì´ ë°ì´í„° ë¶„ì„ ë° ì§ˆë¬¸ì— ëŒ€í•œ ë‹µë³€ì„ ì œê³µí•©ë‹ˆë‹¤.

### 3. ë²¡í„° ë°ì´í„° ì €ì¥
- **ë²¡í„° ë°ì´í„° ì €ì¥**: ë¶„ì„ëœ ë°ì´í„°ë¥¼ ë²¡í„° ë°ì´í„°ë² ì´ìŠ¤(FAISS)ë¡œ ì €ì¥í•©ë‹ˆë‹¤.
- **íŒŒì¼ ì €ì¥**: ì €ì¥ ë²„íŠ¼ì„ í†µí•´ ë²¡í„° ë°ì´í„°ë¥¼ ë¡œì»¬ ë””ìŠ¤í¬ì— ì €ì¥í•©ë‹ˆë‹¤.

---

## ğŸ“‚ Project Structure

```
.
â”œâ”€â”€ main.py                   # Streamlit ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜
â”œâ”€â”€ Modules/
â”‚   â”œâ”€â”€ agent.py             # ì—ì´ì „íŠ¸ ìƒì„± ë¡œì§
â”‚   â”œâ”€â”€ call.py              # ì§ˆë¬¸ ë° ë©”ì‹œì§€ ì²˜ë¦¬ ë¡œì§
â”‚   â”œâ”€â”€ logging.py           # ë¡œê·¸ ì„¤ì •
â”‚   â”œâ”€â”€ messages.py          # ë©”ì„¸ì§€ í•¨ìˆ˜
â”œâ”€â”€ requirements.txt         # ì˜ì¡´ì„± íŒ¨í‚¤ì§€ ëª©ë¡
â”œâ”€â”€ README.md                # ì„¤ëª…ì„œ (í˜„ì¬ íŒŒì¼)
```

---

## ğŸ“œ Code Explanation

### 1. **`app.py`**: Main Application

#### ì£¼ìš” ê¸°ëŠ¥
- **Streamlit ì„¤ì •**:
  - `st.title`ë¡œ ì œëª© ì„¤ì •.
  - `st.session_state`ë¡œ ìƒíƒœ ê´€ë¦¬ (ëŒ€í™” ë‚´ìš©, ë°ì´í„°í”„ë ˆì„, ì—ì´ì „íŠ¸ ë“±).
  
- **ì‚¬ì´ë“œë°”**:
  - CSV íŒŒì¼ ì—…ë¡œë“œ (`st.file_uploader`).
  - OpenAI ëª¨ë¸ ì„ íƒ (`st.selectbox`).
  - ë°ì´í„° ë¶„ì„ ì‹œì‘ (`apply_btn`).
  
- **ë°ì´í„° ì²˜ë¦¬**:
  - CSV íŒŒì¼ì„ `Pandas DataFrame`ìœ¼ë¡œ ë¡œë“œ.
  - LangChainì˜ `create_agent`ë¥¼ ì‚¬ìš©í•´ ë°ì´í„°í”„ë ˆì„ ì—ì´ì „íŠ¸ë¥¼ ìƒì„±.

- **ì§ˆë¬¸ ì‘ë‹µ**:
  - ì‚¬ìš©ì ì…ë ¥ì„ ë°›ì•„ `ask` í•¨ìˆ˜ í˜¸ì¶œ.
  - ì—ì´ì „íŠ¸ê°€ ì‘ë‹µì„ ìŠ¤íŠ¸ë¦¬ë° í˜•íƒœë¡œ ì¶œë ¥.

---

### 2. **`agent.py`**: ì—ì´ì „íŠ¸ ìƒì„± ë¡œì§

- **`create_agent`**:
  - LangChainì˜ `create_pandas_dataframe_agent`ë¥¼ í™œìš©í•˜ì—¬ ë°ì´í„°í”„ë ˆì„ ë¶„ì„ ì—ì´ì „íŠ¸ë¥¼ ìƒì„±.
  - `prefix`ë¥¼ ì‚¬ìš©í•´ ì—ì´ì „íŠ¸ì˜ ì—­í•  ë° ì œí•œì‚¬í•­ ì„¤ì •.
    
```
ê·€í•˜ëŠ” íŒë‹¤ì˜ ì „ë¬¸ ë°ì´í„° ë¶„ì„ê°€ì´ì ì „ë¬¸ê°€ì…ë‹ˆë‹¤."
"íŒ¬ë” ë°ì´í„°í”„ë ˆì„('df')ì„ ì‚¬ìš©í•˜ì—¬ ì‚¬ìš©ìì˜ ìš”ì²­ì— ì‘ë‹µí•´ì•¼ í•©ë‹ˆë‹¤."
"\n\n[ì¤‘ìš”] ì½”ë“œì—ì„œ 'df' ë³€ìˆ˜ë¥¼ ë§Œë“¤ê±°ë‚˜ ë®ì–´ì“°ë©´ ì•ˆ ë©ë‹ˆë‹¤.\n\n"
"ì‹œê°í™” ì½”ë“œë¥¼ ìƒì„±í•  ì˜í–¥ì´ ìˆë‹¤ë©´ ì½”ë“œ ëì— 'plt.show()'ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”."
"ì‹œê°í™”ë¥¼ ìœ„í•´ í•´ìƒ ì½”ë“œë¥¼ ì„ í˜¸í•˜ì§€ë§Œ ë§¤íŠ¸í”Œë¡¯ë¦½ë„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."
"\n\n<ì‹œê°í™” ì„ í˜¸ë„>\n"
"- [ì¤‘ìš”] ì‹œê°í™” ì œëª©ê³¼ ë ˆì´ë¸”ì—ëŠ” 'ì˜ì–´'ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤."
"- 'muted' cmap, í°ìƒ‰ ë°°ê²½, ì‹œê°í™”ë¥¼ ìœ„í•œ ê·¸ë¦¬ë“œ ì—†ìŒ"
"\ní•´ë‹¹ë˜ëŠ” ê²½ìš° í•´ìƒë„ì— ëŒ€í•´ cmap, íŒ”ë ˆíŠ¸ ë§¤ê°œë³€ìˆ˜ë¥¼ ì„¤ì •í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤."
"ìµœì¢… ë‹µë³€ì˜ ì–¸ì–´ëŠ” í•œêµ­ì–´ë¡œ ì‘ì„±í•´ì•¼ í•©ë‹ˆë‹¤."
"\n\n###\n\n<ì—´ ê°€ì´ë“œë¼ì¸>\n"
"ì‚¬ìš©ìê°€ 'df.columns'ì— ë‚˜ì—´ë˜ì§€ ì•Šì€ ì—´ë¡œ ì§ˆë¬¸í•˜ëŠ” ê²½ìš°, ë‚˜ì—´ëœ ê°€ì¥ ìœ ì‚¬í•œ ì—´ì„ ì°¸ì¡°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤

```


---

### 3. **`call.py`**: ì§ˆë¬¸ ë° ë©”ì‹œì§€ ì²˜ë¦¬

#### ì£¼ìš” í•¨ìˆ˜
- **`ask(query)`**:
  - ì‚¬ìš©ì ì§ˆë¬¸ì„ ë°›ì•„ ì—ì´ì „íŠ¸ì—ê²Œ ì „ë‹¬.
  - ì‘ë‹µì„ ìŠ¤íŠ¸ë¦¬ë°ìœ¼ë¡œ ë°›ì•„ ì¶œë ¥.

- **`print_messages()`**:
  - ëŒ€í™” ê¸°ë¡ì„ ë°˜ë³µ ì¶œë ¥.
  - ë©”ì‹œì§€ ìœ í˜•(TEXT, FIGURE, CODE, DATAFRAME)ì— ë”°ë¼ ì ì ˆí•œ í˜•ì‹ìœ¼ë¡œ ì¶œë ¥.

---

### 4. **ë²¡í„° ë°ì´í„° ì €ì¥**

#### ë²¡í„° ë°ì´í„° ì²˜ë¦¬ íë¦„
1. **ë¬¸ì„œ ìƒì„±**:
    - `Pandas DataFrame`ì˜ ê° í–‰ì„ LangChainì˜ `Document` í˜•ì‹ìœ¼ë¡œ ë³€í™˜.
2. **í…ìŠ¤íŠ¸ ë¶„í• **:
    - `RecursiveCharacterTextSplitter`ë¥¼ ì‚¬ìš©í•´ ë¬¸ì„œë¥¼ ì²­í¬ ë‹¨ìœ„ë¡œ ë¶„í• .
3. **ë²¡í„° ë°ì´í„°ë² ì´ìŠ¤ ìƒì„±**:
    - `FAISS`ë¥¼ ì‚¬ìš©í•˜ì—¬ ì„ë² ë”©ëœ ë°ì´í„°ë¥¼ ë²¡í„° ìŠ¤í† ì–´ì— ì €ì¥.
4. **ì €ì¥/ì—…ë°ì´íŠ¸**:
    - `FAISS.save_local`ë¡œ ë¡œì»¬ ì €ì¥.
    - ê¸°ì¡´ í´ë”ê°€ ìˆìœ¼ë©´ `add_documents`ë¡œ ì¶”ê°€.

---

## ğŸ“Œ ì£¼ìš” ì½”ë“œ

### ë©”ì‹œì§€ ìƒíƒœ ê´€ë¦¬
```python
if "messages" not in st.session_state:
    st.session_state["messages"] = []  # ëŒ€í™” ìƒíƒœ ì´ˆê¸°í™”
```

### CSV ì—…ë¡œë“œ ë° ë¶„ì„
```python
if apply_btn and uploaded_file:
    loaded_data = pd.read_csv(uploaded_file)
    st.session_state["agent"] = create_agent(loaded_data, selected_model)
    st.success("ì„¤ì •ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.")
```

### ì§ˆë¬¸ ë° ì‘ë‹µ ì²˜ë¦¬
```python
user_input = st.chat_input("ê¶ê¸ˆí•œ ë‚´ìš©ì„ ë¬¼ì–´ë³´ì„¸ìš”!")
if user_input:
    ask(user_input)
```

### ë²¡í„° ë°ì´í„° ì €ì¥
```python
if save_btn and uploaded_file:
    db = FAISS.from_documents(documents=splitted_data, embedding=embeddings)
    db.save_local(folder_path="faiss_db", index_name="faiss_index")
```

---

## ğŸ”‘ Environment Variables

ë‹¤ìŒê³¼ ê°™ì€ í™˜ê²½ ë³€ìˆ˜ë¥¼ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤:

- `OPENAI_API_KEY`: OpenAI API í‚¤.

---

## ğŸ›¡ï¸ License

This project is licensed under the MIT License.

---

## ğŸ“ Authors

- **Your Name**  
  *AI Enthusiast and Developer*  

Feel free to reach out for collaboration or questions! ğŸ˜Š


## ì°¸ê³ ìë£Œ

| Resource       | Link                       |
|----------------|----------------------------|
| ê°•ì‚¬ë‹˜ GitHub  | [GitHub](https://github.com/good593) |
| LangChain ê³µì‹ í™ˆí˜ì´ì§€ | [Read Docs](https://docs.github.com) |
| í…Œë”” ë…¸íŠ¸    | [youtube](https://www.youtube.com/@teddynote) |
| í…Œë”” ë…¸íŠ¸    | [wikidocs](https://wikidocs.net/book/14314) |
| ëª¨ë‘ì˜ AI    | [youtube](https://www.youtube.com/@AI-km1yn) |
|----------------|----------------------------|








